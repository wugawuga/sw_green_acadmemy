<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>무한 스크롤</title>
    <script src="../js/jquery-3.6.0.js"></script>
</head>
<body>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <h1>무한 인사 - 안녕하세요</h1>
    <script>
        //  1단계 : 스크롤 이벤트가 발생시 함수가 동작
        //  2단계 : 문서의 끝에 화면이 도달했을때 기능이 동작
        //  3단계 : 화면이 문서의 끝에 도달했는지 판단하는 방법
        //           화면의 높이 + 스크롤된 거리 = 문서의 높이와 같다면

        $(document).ready(function(){
            $(window).scroll(function(){ //스크롤 이벤트가 발생했을때 작동되는 함수
                let viewSize = $(window).height();  //화면의 높이
                let scrollDistance = $(window).scrollTop(); // 스크롤된 거리 : 스크롤바의 상단부가 움직인 거리
                let documentSize = $(document).height();   //문서의 높이

                if((viewSize+scrollDistance)==documentSize){// 화면이 문서의 끝에 도달했다면
                    for(let i=0;i<10;i++){
                        $('<h1></h1>').html('무한 인사 - 안녕하세요').appendTo($('body'));
                    }
                }
            })


        });


    </script>
</body>
</html>